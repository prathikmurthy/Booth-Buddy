// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model Event {
  eventID     String     @id @unique
  name        String
  description String
  active      Boolean
  Room        Room[]
  room_data   RoomData[]
}

// Table of all created rooms (active and inactive)
model Room {
  roomID      String     @id @unique
  event       Event      @relation(fields: [eventID], references: [eventID])
  eventID     String
  roomAdmin   String
  RoomAdmin   RoomAdmin  @relation(fields: [roomAdmin], references: [userID])
  room_data   RoomData[]
  name        String
  description String
  active      Boolean
}

model RoomAdmin {
  userID String @id @unique
  Room   Room[]
  name   String
}

model RoomData {
  id      Int    @id @unique @default(sequence()) //dont use this field
  event   Event  @relation(fields: [eventID], references: [eventID])
  eventID String
  room    Room   @relation(fields: [roomID], references: [roomID])
  roomID  String
  data SavedContactCard
}

model SavedContactCard {

}

model ScanUser {
  id String 
}

// model UserRoom {

// }
